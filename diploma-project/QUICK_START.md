# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç)

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Docker

Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ç—Ä–µ–±—É—é—Ç –Ω–∞–ª–∏—á–∏—è –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏. –°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å:

```bash
cd diploma-project/ml-service
pip3 install pandas scikit-learn joblib
python3 train_simple.py
cd ../..
```

–ú–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ `data/model.pkl`

---

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
./setup.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ Python –∏ Go
- –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –û–±—É—á–∏—Ç ML –º–æ–¥–µ–ª—å

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

#### –®–∞–≥ 1: –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

```bash
cd ml-service
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python train_model.py
deactivate
cd ..
```

#### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd web-service
go mod download
cd ..
```

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç A: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
make build

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
make up

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs
```

–ì–æ—Ç–æ–≤–æ! –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ http://localhost:8080

### –í–∞—Ä–∏–∞–Ω—Ç B: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

–û—Ç–∫—Ä–æ–π—Ç–µ 2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

**Terminal 1 (ML Service):**
```bash
make dev-ml
# –∏–ª–∏
cd ml-service
source venv/bin/activate
uvicorn predict_api:app --reload --port 8000
```

**Terminal 2 (Web Service):**
```bash
make dev-web
# –∏–ª–∏
cd web-service
export ML_SERVICE_URL=http://localhost:8000
go run main.go
```

–ì–æ—Ç–æ–≤–æ! –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ http://localhost:8080

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# Web Service health check
curl http://localhost:8080/health

# ML Service health check
curl http://localhost:8000/health
```

---

## –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å

```bash
curl -X POST http://localhost:8000/predict \
  -H "Content-Type: application/json" \
  -d '{
    "q1": 5, "q2": 3, "q3": 4, "q4": 4, "q5": 2,
    "q6": 2, "q7": 3, "q8": 3, "q9": 2, "q10": 4,
    "q11": 2, "q12": 4, "q13": 5, "q14": 2, "q15": 2,
    "q16": 4, "q17": 3, "q18": 4, "q19": 5, "q20": 3
  }'
```

---

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞

### Docker —Ä–µ–∂–∏–º
```bash
make down
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ –æ–±–æ–∏—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
make help      # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
make logs      # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make clean     # –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
make train     # –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
```

---

## Troubleshooting

### "–ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
```bash
make train
```

### "Port already in use"
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
lsof -ti:8080 | xargs kill -9
lsof -ti:8000 | xargs kill -9
```

### –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
make clean
./setup.sh
make up
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
diploma-project/
‚îú‚îÄ‚îÄ ml-service/          # Python ML —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ train_model.py   # –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ predict_api.py   # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ web-service/         # Go –≤–µ–±-—Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ main.go          # Gin —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ templates/       # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ
‚îú‚îÄ‚îÄ data/                # –î–∞–Ω–Ω—ã–µ –∏ –º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ survey_data.csv  # –î–∞—Ç–∞—Å–µ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ model.pkl        # –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îÇ
‚îî‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

–ì–æ—Ç–æ–≤–æ! –ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã üöÄ
